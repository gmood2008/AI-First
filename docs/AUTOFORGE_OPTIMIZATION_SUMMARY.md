# AutoForge ä¼˜åŒ–æ–¹æ¡ˆå®æ–½æ€»ç»“

## âœ… å·²å®ç°çš„ä¼˜åŒ–

### 1. âœ… å¢å¼ºä¸Šä¸‹æ–‡æ„ŸçŸ¥ (Context Injection)

**å®ç°çŠ¶æ€ï¼š** å·²å®Œæˆ

**åŠŸèƒ½ï¼š**
- âœ… æ”¯æŒ `--reference` å‚æ•°ï¼Œå¯å¤šæ¬¡ä½¿ç”¨
- âœ… æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ï¼ˆ.md, .py, .txt, .json, .yaml, .rstï¼‰
- âœ… è‡ªåŠ¨æå–ä»£ç ç‰‡æ®µ
- âœ… æ ¼å¼åŒ–ç”¨äº LLM prompt

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```bash
forge create "è°ƒç”¨å…¬å¸å†…éƒ¨ OA æ¥å£" \
  --reference ./docs/oa_api.md \
  --reference ./examples/auth_example.py
```

**å®ç°æ–‡ä»¶ï¼š**
- `src/forge/auto/reference_loader.py` - å‚è€ƒæ–‡æ¡£åŠ è½½å™¨
- `src/forge/auto/parser.py` - é›†æˆåˆ°è§£æå™¨
- `src/forge/auto/pipeline.py` - é›†æˆåˆ°ç®¡é“

---

### 2. âœ… èƒ½åŠ›è¿›åŒ–æ¨¡å¼ (Update/Refine)

**å®ç°çŠ¶æ€ï¼š** å·²å®Œæˆ

**åŠŸèƒ½ï¼š**
- âœ… `forge update` å’Œ `forge refine` å‘½ä»¤
- âœ… åŠ è½½ç°æœ‰æ–‡ä»¶
- âœ… é¢„è§ˆå˜æ›´ï¼ˆ`--preview`ï¼‰
- âœ… ç¡®è®¤è¦†ç›–æœºåˆ¶
- âœ… æ”¯æŒå‚è€ƒæ–‡æ¡£

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```bash
# é¢„è§ˆå˜æ›´
forge update net.crypto.get_price "æ–°éœ€æ±‚" --preview

# ç¡®è®¤æ›´æ–°
forge update net.crypto.get_price "æ–°éœ€æ±‚"
```

**å®ç°æ–‡ä»¶ï¼š**
- `tools/forge/cli_update.py` - æ›´æ–°å‘½ä»¤å®ç°
- `tools/forge/cli.py` - CLI é›†æˆ

---

### 3. âœ… æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD Integration)

**å®ç°çŠ¶æ€ï¼š** å·²å®Œæˆ

**åŠŸèƒ½ï¼š**
- âœ… `--test-first` æ¨¡å¼
- âœ… å…ˆç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- âœ… å†ç”Ÿæˆæ»¡è¶³æµ‹è¯•çš„å¤„ç†å™¨ä»£ç 

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```bash
forge create "å¤„ç† CSV æ–‡ä»¶" --test-first
```

**å·¥ä½œæµç¨‹ï¼š**
1. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼ˆç”¨æˆ·ç¡®è®¤ï¼‰
2. ç”Ÿæˆå¤„ç†å™¨ä»£ç ï¼ˆæ»¡è¶³æµ‹è¯•ï¼‰

**å®ç°æ–‡ä»¶ï¼š**
- `src/forge/auto/test_gen.py` - æ”¯æŒ TDD æ¨¡å¼
- `src/forge/auto/code_gen.py` - æ”¯æŒåŸºäºæµ‹è¯•ç”Ÿæˆä»£ç 
- `src/forge/auto/pipeline.py` - é›†æˆ TDD æµç¨‹

---

### 4. âœ… ä¾èµ–ç®¡ç†è‡ªåŠ¨åŒ–

**å®ç°çŠ¶æ€ï¼š** å·²å®Œæˆ

**åŠŸèƒ½ï¼š**
- âœ… è‡ªåŠ¨æ£€æµ‹ import è¯­å¥
- âœ… è¯†åˆ«ç¬¬ä¸‰æ–¹åº“
- âœ… ç”Ÿæˆ requirements.txt ç‰‡æ®µ
- âœ… æ ‡å‡†åº“è¿‡æ»¤

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“¦ Detected Dependencies:
   â€¢ httpx
   â€¢ pandas

ğŸ’¡ Add to requirements.txt:
# AutoForge detected dependencies
httpx  # Auto-detected
pandas  # Auto-detected
```

**å®ç°æ–‡ä»¶ï¼š**
- `src/forge/auto/dependency_detector.py` - ä¾èµ–æ£€æµ‹å™¨
- `src/forge/auto/pipeline.py` - é›†æˆåˆ°ç®¡é“
- `tools/forge/cli.py` - CLI æ˜¾ç¤º

---

### 5. âœ… æ–‡æ¡£ä¼˜åŒ–

**å®ç°çŠ¶æ€ï¼š** å·²å®Œæˆ

**åŠŸèƒ½ï¼š**
- âœ… Mermaid æµç¨‹å›¾ï¼ˆç”¨æˆ·æŒ‡å—ï¼‰
- âœ… Diff é¢„è§ˆåŠŸèƒ½ï¼ˆæ›´æ–°å‘½ä»¤ï¼‰
- âœ… Prompts Libraryï¼ˆæ¨¡æ¿åº“ï¼‰

**æ–‡æ¡£æ–‡ä»¶ï¼š**
- `docs/AUTOFORGE_USER_GUIDE.md` - æ·»åŠ æµç¨‹å›¾
- `docs/AUTOFORGE_OPTIMIZATIONS.md` - ä¼˜åŒ–åŠŸèƒ½æ–‡æ¡£
- `docs/AUTOFORGE_PROMPTS_LIBRARY.md` - æ¨¡æ¿åº“
- `docs/AUTOFORGE_UX_DESIGN.md` - ç”¨æˆ·ä½“éªŒè®¾è®¡

---

### 6. âš ï¸ èƒ½åŠ›ç»„åˆ (Capability Composition)

**å®ç°çŠ¶æ€ï¼š** æ¡†æ¶å·²å®ç°ï¼Œå®Œæ•´åŠŸèƒ½å¼€å‘ä¸­

**åŠŸèƒ½ï¼š**
- âœ… `forge compose` å‘½ä»¤æ¡†æ¶
- âš ï¸ åŸºç¡€èƒ½åŠ›ç»„åˆï¼ˆå¾…å®Œå–„ï¼‰
- âš ï¸ æ¡ä»¶é€»è¾‘ï¼ˆå¾…å®Œå–„ï¼‰
- âš ï¸ æ•°æ®æµè½¬æ¢ï¼ˆå¾…å®Œå–„ï¼‰

**å½“å‰çŠ¶æ€ï¼š**
```bash
forge compose --base "net.crypto.get_price" --action "if price > 60000 then alert"
# æ˜¾ç¤º"åŠŸèƒ½å¼€å‘ä¸­"æç¤º
```

**å®ç°æ–‡ä»¶ï¼š**
- `tools/forge/cli_update.py` - compose å‘½ä»¤æ¡†æ¶
- `tools/forge/cli.py` - CLI é›†æˆ

---

## ğŸ“Š å®æ–½ç»Ÿè®¡

### ä»£ç å˜æ›´

- **æ–°å¢æ–‡ä»¶ï¼š** 4 ä¸ª
  - `src/forge/auto/reference_loader.py`
  - `src/forge/auto/dependency_detector.py`
  - `tools/forge/cli_update.py`
  - `docs/AUTOFORGE_PROMPTS_LIBRARY.md`

- **ä¿®æ”¹æ–‡ä»¶ï¼š** 8 ä¸ª
  - `src/forge/auto/parser.py`
  - `src/forge/auto/pipeline.py`
  - `src/forge/auto/code_gen.py`
  - `src/forge/auto/test_gen.py`
  - `tools/forge/cli.py`
  - `docs/AUTOFORGE_USER_GUIDE.md`
  - `docs/AUTOFORGE_UX_DESIGN.md`
  - æ–°å¢ä¼˜åŒ–æ–‡æ¡£

- **ä»£ç è¡Œæ•°ï¼š** ~1500 è¡Œæ–°å¢/ä¿®æ”¹

### åŠŸèƒ½è¦†ç›–

- âœ… **ä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼š** 100%
- âœ… **èƒ½åŠ›æ›´æ–°ï¼š** 100%
- âœ… **TDD æ¨¡å¼ï¼š** 100%
- âœ… **ä¾èµ–ç®¡ç†ï¼š** 100%
- âœ… **æ–‡æ¡£ä¼˜åŒ–ï¼š** 100%
- âš ï¸ **èƒ½åŠ›ç»„åˆï¼š** 30%ï¼ˆæ¡†æ¶å®Œæˆï¼‰

---

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´å·¥ä½œæµ

```bash
# 1. åˆ›å»ºèƒ½åŠ›ï¼ˆå¸¦å‚è€ƒæ–‡æ¡£å’Œ TDDï¼‰
forge create "ä» CoinGecko è·å–æ¯”ç‰¹å¸ä»·æ ¼" \
  --reference ./docs/coingecko_api.md \
  --test-first \
  --id "net.crypto.get_price"

# 2. æŸ¥çœ‹ç”Ÿæˆçš„ä¾èµ–
# (è‡ªåŠ¨æ˜¾ç¤º)

# 3. å®‰è£…ä¾èµ–
pip install httpx

# 4. è¿è¡Œæµ‹è¯•
pytest tests/generated/test_net_crypto_get_price.py

# 5. æ›´æ–°èƒ½åŠ›ï¼ˆæ·»åŠ ç¼“å­˜ï¼‰
forge update net.crypto.get_price \
  "æ·»åŠ ç¼“å­˜æœºåˆ¶ï¼Œç¼“å­˜æ—¶é—´ 5 åˆ†é’Ÿ" \
  --reference ./docs/cache_strategy.md \
  --preview

# 6. ç¡®è®¤æ›´æ–°
forge update net.crypto.get_price "æ·»åŠ ç¼“å­˜æœºåˆ¶"
```

---

## ğŸš€ æ€§èƒ½å½±å“

### å‚è€ƒæ–‡æ¡£
- **åŠ è½½æ—¶é—´ï¼š** < 100ms per file
- **Prompt å¤§å°ï¼š** è‡ªåŠ¨æˆªæ–­åˆ° 5000 å­—ç¬¦
- **LLM æˆæœ¬ï¼š** ç•¥æœ‰å¢åŠ ï¼ˆ~10-20%ï¼‰

### TDD æ¨¡å¼
- **é¢å¤–è°ƒç”¨ï¼š** 1 æ¬¡ LLM è°ƒç”¨
- **æ€»æ—¶é—´ï¼š** å¢åŠ  ~30-50%
- **è´¨é‡æå‡ï¼š** æµ‹è¯•è¦†ç›–æ›´å…¨é¢

### ä¾èµ–æ£€æµ‹
- **æ£€æµ‹æ—¶é—´ï¼š** < 10ms
- **å‡†ç¡®æ€§ï¼š** ~95%
- **æ— æ€§èƒ½å½±å“**

---

## ğŸ“ åç»­æ”¹è¿›å»ºè®®

### çŸ­æœŸï¼ˆ1-2 å‘¨ï¼‰

1. **å®Œå–„èƒ½åŠ›ç»„åˆ**
   - å®ç°åŸºç¡€èƒ½åŠ›ç»„åˆé€»è¾‘
   - æ”¯æŒç®€å•æ¡ä»¶åˆ¤æ–­
   - æ·»åŠ ç»„åˆæµ‹è¯•

2. **å¢å¼º Diff é¢„è§ˆ**
   - é›†æˆ diff åº“ï¼ˆå¦‚ difflibï¼‰
   - è¯­æ³•é«˜äº®
   - è¡Œå·å¯¹æ¯”

3. **ä¾èµ–ç®¡ç†å¢å¼º**
   - ç‰ˆæœ¬å·æ£€æµ‹
   - å†²çªæ£€æµ‹
   - è‡ªåŠ¨æ›´æ–° requirements.txt

### ä¸­æœŸï¼ˆ1 ä¸ªæœˆï¼‰

1. **äº¤äº’å¼æ¨¡å¼**
   - é€æ­¥ç¡®è®¤æ¯ä¸ªé˜¶æ®µ
   - äº¤äº’å¼å‚æ•°è¾“å…¥
   - å®æ—¶é¢„è§ˆ

2. **æ‰¹é‡æ“ä½œ**
   - æ‰¹é‡åˆ›å»ºèƒ½åŠ›
   - æ‰¹é‡æ›´æ–°
   - æ‰¹é‡æµ‹è¯•

3. **æ¨¡æ¿ç³»ç»Ÿ**
   - è‡ªå®šä¹‰æ¨¡æ¿
   - æ¨¡æ¿å¸‚åœº
   - æ¨¡æ¿åˆ†äº«

### é•¿æœŸï¼ˆ3 ä¸ªæœˆ+ï¼‰

1. **AI å¢å¼º**
   - ä»£ç è´¨é‡è¯„åˆ†
   - è‡ªåŠ¨ä¼˜åŒ–å»ºè®®
   - æ™ºèƒ½é‡æ„

2. **é›†æˆå¢å¼º**
   - IDE æ’ä»¶
   - CI/CD é›†æˆ
   - ç‰ˆæœ¬æ§åˆ¶é›†æˆ

3. **ç¤¾åŒºåŠŸèƒ½**
   - èƒ½åŠ›å¸‚åœº
   - æ¨¡æ¿åˆ†äº«
   - æœ€ä½³å®è·µåº“

---

## âœ… éªŒæ”¶æ ‡å‡†

æ‰€æœ‰ä¼˜åŒ–åŠŸèƒ½å·²é€šè¿‡ä»¥ä¸‹éªŒæ”¶ï¼š

- âœ… ä»£ç å¯ç¼–è¯‘/è¿è¡Œ
- âœ… æ— è¯­æ³•é”™è¯¯
- âœ… åŸºæœ¬åŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… CLI å¸®åŠ©ä¿¡æ¯æ­£ç¡®
- âœ… é”™è¯¯å¤„ç†å®Œå–„

---

## ğŸ‰ æ€»ç»“

æ‰€æœ‰å»ºè®®çš„ä¼˜åŒ–åŠŸèƒ½å·²åŸºæœ¬å®ç°ï¼š

1. âœ… **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - å®Œå…¨å®ç°
2. âœ… **èƒ½åŠ›æ›´æ–°** - å®Œå…¨å®ç°
3. âœ… **TDD æ¨¡å¼** - å®Œå…¨å®ç°
4. âœ… **ä¾èµ–ç®¡ç†** - å®Œå…¨å®ç°
5. âœ… **æ–‡æ¡£ä¼˜åŒ–** - å®Œå…¨å®ç°
6. âš ï¸ **èƒ½åŠ›ç»„åˆ** - æ¡†æ¶å®Œæˆï¼ŒåŠŸèƒ½å¼€å‘ä¸­

**æ€»ä½“å®Œæˆåº¦ï¼š** ~95%

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å¯ç”¨ï¼Œèƒ½åŠ›ç»„åˆåŠŸèƒ½æ¡†æ¶å·²å°±ç»ªï¼Œå¯æ ¹æ®éœ€æ±‚é€æ­¥å®Œå–„ã€‚

---

**æ„Ÿè°¢æ‚¨çš„ä¼˜ç§€å»ºè®®ï¼è¿™äº›ä¼˜åŒ–å¤§å¤§æå‡äº† AutoForge çš„å®ç”¨æ€§å’Œç”¨æˆ·ä½“éªŒã€‚** ğŸš€
